(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{92:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(22),r=n.n(c),i=n(6),o=n(11),l=n(54),u=n(96),d=n(97),j=n(98),m=n(0),h=function(e){return Object(m.jsx)(m.Fragment,{children:e.item.map((function(e){return Object(m.jsx)("div",{className:"contenedor-imagen",children:Object(m.jsx)("div",{className:"imagen",style:{backgroundImage:"url('./assets/".concat(e.src,"')")},children:Object(m.jsx)("div",{children:Object(m.jsx)("h3",{className:"cities-title",children:e.header})})})},e.id)}))})},p=function(){var e=[[{src:"ushuaia.jpg",header:"Ushuaia",id:1},{src:"roma.jpg",header:"Rome",id:2},{src:"london.jpg",header:"London",id:3},{src:"paris.jpg",header:"Paris",id:4}],[{src:"newYork.jpg",header:"New York",id:5},{src:"sydney.jpg",header:"Sydney",id:6},{src:"Shangai.jpg",header:"Shanghai",id:8},{src:"seattle.jpg",header:"Seattle",id:7}],[{src:"berlin.jpg",header:"Berlin",id:5},{src:"medellin.jpg",header:"Medellin",id:7},{src:"tokyo.jpg",header:"Tokyo",id:6},{src:"madrid.jpg",header:"Madrid",id:8}]],t=Object(a.useState)(0),n=Object(o.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(o.a)(r,2),p=i[0],b=i[1],f=function(){if(!p){var t=s===e.length-1?0:s+1;c(t)}},O=function(){if(!p){var t=0===s?e.length-1:s-1;c(t)}},x=[],g=e.map((function(e,t){return x.push(e[0].src),Object(m.jsx)(l.a,{onExiting:function(){return b(!0)},onExited:function(){return b(!1)},children:Object(m.jsx)("div",{className:"slide-container",children:Object(m.jsx)(h,{item:e})})},t)}));return Object(m.jsxs)(u.a,{activeIndex:s,next:f,previous:O,interval:4e3,children:[Object(m.jsx)(d.a,{items:x,activeIndex:s,onClickHandler:function(e){p||c(e)}}),g,Object(m.jsx)(j.a,{direction:"prev",directionText:"Previous",onClickHandler:O}),Object(m.jsx)(j.a,{direction:"next",directionText:"Next",onClickHandler:f})]})},b=n(99),f=n(7),O=function(e){var t=e.imagenTravel;return Object(m.jsxs)("div",{className:"call-to-action d-flex flex-colum my-container-small",children:[Object(m.jsxs)("div",{className:"call-content d-flex flex-colum2",children:[Object(m.jsx)("p",{children:"LOOKING FOR ITINERARIES?"}),Object(m.jsx)("h2",{className:"flex-grow",children:"We Provide The Best Experience For You."}),Object(m.jsx)("p",{children:"With age, comes wisdom. With travel, comes understanding"}),Object(m.jsxs)(f.c,{to:"/cities",children:[Object(m.jsx)(b.a,{color:"info",children:"Show Cities"})," "]})]}),Object(m.jsx)("img",{className:"travel-image",src:"/assets/".concat(t),alt:"imagen travel"})]})},x=function(e){return Object(m.jsx)("div",{className:"hero d-flex flex-colum",style:{backgroundImage:"url('./assets/".concat(e.portada,"')")},children:Object(m.jsx)("div",{className:"contenedor-hero ",children:Object(m.jsxs)("div",{className:"content-hero text-center",children:[Object(m.jsx)("h1",{className:"tittle-hero",children:"MyTinerary"}),Object(m.jsx)("p",{children:"Find your perfect trip, designed by insiders who know and love their cities!"})]})})})},g=n(12),v=Object(g.b)((function(e){return{userLogged:e.authReducer.userLogged}}),null)((function(e){var t="portada3.jpg",n="callToAction.PNG";return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{portada:t}),Object(m.jsx)(O,{imagenTravel:n}),Object(m.jsxs)("div",{className:"contenedor-carrusel",children:[Object(m.jsx)("h2",{className:"text-center",children:"Popular MYtineraries"}),Object(m.jsx)("div",{className:"carrusel",children:Object(m.jsx)(p,{})})]})]})})),N=n(29),y=n(30),k=n(33),C=n(32),w=function(e){var t=e.city;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(f.c,{to:"/city/".concat(t._id),children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{className:"city-image",style:{backgroundImage:"url('./assets/".concat(t.src,"')")}}),Object(m.jsx)("div",{className:"card-info",children:Object(m.jsx)("h3",{children:t.city})}),Object(m.jsxs)("div",{className:"card-hover",children:[Object(m.jsxs)("h3",{children:[t.city," - ",t.country]}),Object(m.jsx)("p",{className:"description-card",children:t.description})]})]},t._id)})})},S=function(){return Object(m.jsx)("div",{className:"spinner-container",children:Object(m.jsxs)("div",{className:"sk-folding-cube",children:[Object(m.jsx)("div",{className:"sk-cube1 sk-cube"}),Object(m.jsx)("div",{className:"sk-cube2 sk-cube"}),Object(m.jsx)("div",{className:"sk-cube4 sk-cube"}),Object(m.jsx)("div",{className:"sk-cube3 sk-cube"})]})})},I=n(15),L=n.n(I),E=n(8),A=n.n(E),R={loadCities:function(e){return function(t,n){L.a.get("http://localhost:4000/api/cities").then((function(e){return t({type:"LOAD_CITIES",payload:e.data.respuesta})})).catch((function(t){A.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!"}).then((function(){e.push("/error")}))}))}},searchCities:function(e){return function(t){t({type:"SEARCH_CITIES",payload:e})}}},T=function(e){Object(k.a)(n,e);var t=Object(C.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){0===this.props.newCities.length&&this.props.loadCities(this.props.history)}},{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("main",{className:"main-cities",children:[Object(m.jsx)("h1",{className:"tittle-cities",children:"Cities"}),Object(m.jsx)("div",{className:"input-container",children:Object(m.jsx)("input",{onChange:function(t){return e.props.searchCities(t.target.value)},type:"text",placeholder:"Search Cities"})}),this.props.loading?Object(m.jsx)(S,{}):0===this.props.newCities.length?Object(m.jsx)("div",{className:"mensajeErrorBusqueda",style:{backgroundImage:"url('/assets/suitcase.jpg')"},children:Object(m.jsxs)("div",{className:"mensajeContent",children:[Object(m.jsx)("h2",{children:"We can't find the city..."}),Object(m.jsx)("p",{children:"Try another one!"})]})}):Object(m.jsx)("div",{className:this.props.newCities.length>=2?"grid-card":"",children:this.props.newCities.map((function(t){return Object(m.jsx)(w,{city:t,history:e.props.history},t._id)}))})]})})}}]),n}(s.a.Component),B={loadCities:R.loadCities,searchCities:R.searchCities},_=Object(g.b)((function(e){return{newCities:e.citiesReducer.newCitiesCurrent,allCities:e.citiesReducer.allCities,loading:e.citiesReducer.loading}}),B)(T),U=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"spinner-container",children:Object(m.jsx)("h1",{children:"Something went wrong!"})})})},P=(n(92),n(9)),Y=function(e){var t=e.logo;return Object(m.jsxs)("footer",{children:[Object(m.jsx)("div",{className:"my-container-footer my-container-footer2",children:Object(m.jsxs)("div",{className:" footer",children:[Object(m.jsxs)("div",{className:"d-flex flex-colum footer-info",children:[Object(m.jsx)("h3",{children:"MyTinerary"}),Object(m.jsx)("img",{className:"logo",src:"/assets/".concat(t),alt:"logo"})]}),Object(m.jsxs)("div",{className:"d-flex flex-colum footer-info ",children:[Object(m.jsx)("h3",{children:"Site Map"}),Object(m.jsxs)(f.c,{exact:!0,to:"/",children:[Object(m.jsx)("i",{className:"fas fa-home"}),"Home"]}),Object(m.jsxs)(f.c,{to:"/cities",children:[Object(m.jsx)("i",{className:"fas fa-map-marker-alt"}),"Cities"]})]}),Object(m.jsxs)("div",{className:"d-flex flex-colum social-media",children:[Object(m.jsx)("h3",{className:"text-center",children:"Social NetWorks"}),Object(m.jsx)("i",{className:"fab fa-facebook"}),Object(m.jsx)("i",{className:"fab fa-instagram"}),Object(m.jsx)("i",{className:"fab fa-twitter"})]})]})}),Object(m.jsx)("div",{className:"footer-copyrigth",children:Object(m.jsx)("p",{className:"text-center",children:"\xa9 2021 MyTynerary. All rights reserved."})})]})},F=n(3),M=n.n(F),D=n(10),H={createNewUser:function(e){return function(){var t=Object(D.a)(M.a.mark((function t(n,a){var s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("http://localhost:4000/api/user/signup",e);case 3:if(!(s=t.sent).data.googleUser){t.next=6;break}return t.abrupt("return",s.data);case 6:if(s.data.success){t.next=8;break}return t.abrupt("return",s.data.errores);case 8:n({type:"USER_LOG",payload:s.data.success?s.data.respuesta:null}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},iniciarSesion:function(e){return function(){var t=Object(D.a)(M.a.mark((function t(n,a){var s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("http://localhost:4000/api/user/signin",e);case 3:if((s=t.sent).data.success){t.next=6;break}return t.abrupt("return",s.data);case 6:n({type:"USER_LOG",payload:s.data.success?s.data.respuesta:null}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},cerrarSesion:function(e){return function(t,n){A.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Sign Out!"}).then((function(n){n.isConfirmed&&(A.a.fire("We will miss you!","Come back soon","success"),t({type:"LOGOUT_USER"}),e.push("/"))}))}},iniciarSesionLS:function(e){return function(){var t=Object(D.a)(M.a.mark((function t(n,a){var s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("http://localhost:4000/api/user/logingLS",{headers:{Authorization:"Bearer "+e.token}});case 3:s=t.sent,n({type:"USER_LOG",payload:Object(i.a)(Object(i.a)({},s.data.respuesta),{},{token:e.token})}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),401===t.t0.response.status&&A.a.fire({title:"No no no...Maybe another day",width:600,padding:"3em",background:"#fff url(/images/trees.png)",backdrop:'\n                          rgba(0,0,123,0.4)\n                          url("/assets/giphy.webp")\n                          left top\n                          no-repeat\n                        '});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},G={cerrarSesion:H.cerrarSesion},W=Object(g.b)((function(e){return{userLogged:e.authReducer.userLogged}}),G)((function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),s=n[0],c=n[1],r=e.userLogged?"".concat(e.userLogged.userPicture):"/assets/userIcon.png",i=function(){return c(!s)},l=Object(P.g)();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("nav",{className:"navbar",children:Object(m.jsxs)("div",{className:"nav-container",children:[Object(m.jsx)(f.c,{exact:!0,to:"/",className:"nav-logo",children:Object(m.jsx)("img",{className:"logo",src:"/assets/logo.png",alt:"logo"})}),Object(m.jsxs)("ul",{className:s?"nav-menu active":"nav-menu",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(f.c,{exact:!0,to:"/",activeClassName:"active",className:"nav-links",onClick:i,children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(f.c,{exact:!0,to:"/cities",activeClassName:"active",className:"nav-links",onClick:i,children:"Cities"})}),!e.userLogged&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(f.c,{exact:!0,to:"/signin",activeClassName:"active",className:"nav-links",onClick:i,children:"Sign In"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(f.c,{exact:!0,to:"/signup",activeClassName:"active",className:"nav-links",onClick:i,children:"Sign Up"})})]}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsxs)(f.c,{exact:!0,to:"#",activeClassName:"active",className:"nav-links",onClick:i,children:[" ",Object(m.jsx)("div",{className:"userPicture",style:{backgroundImage:"url(".concat(r,")")}})]})}),e.userLogged&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(f.c,{exact:!0,to:"#",activeClassName:"active",className:"nav-links",children:Object(m.jsx)("h3",{className:"signout",onClick:function(){return e.cerrarSesion(l)},children:"Sign Out"})})})})]}),Object(m.jsx)("div",{className:"nav-icon",onClick:i,children:Object(m.jsx)("i",{className:s?"fas fa-times":"fas fa-bars"})})]})})})})),z=n(100),q={loadItineraries:function(e,t){return function(t){L.a.get("http://localhost:4000/api/city/itineraries/".concat(e)).then((function(e){return t({type:"FETCH_ITINERARIES",payload:e.data.respuesta})})).catch((function(e){console.log(e)}))}},loadActivities:function(e){return function(){var t=Object(D.a)(M.a.mark((function t(n){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("http://localhost:4000/api/activities/itinerary/".concat(e));case 3:if(!(a=t.sent).data.success){t.next=6;break}return t.abrupt("return",a.data.respuesta);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},loadLikes:function(e,t){return function(){var n=Object(D.a)(M.a.mark((function n(a,s){var c;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.put("http://localhost:4000/api/likes/".concat(e),{},{headers:{Authorization:"Bearer "+t}});case 3:if(!(c=n.sent)){n.next=6;break}return n.abrupt("return",c.data.respuesta.likes);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()},like:function(e,t){return function(){var n=Object(D.a)(M.a.mark((function n(a,s){var c;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.post("http://localhost:4000/api/likes",{id:e,token:t},{headers:{Authorization:"Bearer ".concat(t)}});case 3:c=n.sent,a({type:"LIKE_ITINERARY",payload:c.data.respuesta}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),A.a.fire({position:"top",icon:"error",title:"Oops something went wrong, try again later!",showConfirmButton:!1,timer:1500});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()},dislike:function(e,t){return function(){var n=Object(D.a)(M.a.mark((function n(a,s){var c;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.post("http://localhost:4000/api/dislike",{token:t,id:e},{headers:{Authorization:"Bearer "+t}});case 3:c=n.sent,a({type:"LIKE_ITINERARY",payload:c.data.respuesta}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),A.a.fire({position:"top",icon:"error",title:"Oops something went wrong, try again later!",showConfirmButton:!1,timer:1500});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()},addComment:function(e,t,n){return function(){var a=Object(D.a)(M.a.mark((function a(s,c){var r;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.post("http://localhost:4000/api/comments",{comment:e,token:t,idItinerary:n},{headers:{Authorization:"Bearer ".concat(t)}});case 3:r=a.sent,s({type:"COMMENT",payload:r.data.respuesta}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),A.a.fire({position:"top",icon:"error",title:"Oops something went wrong, try again later!",showConfirmButton:!1,timer:1500});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}()},updateComment:function(e,t,n,a){return function(){var s=Object(D.a)(M.a.mark((function s(c,r){var i;return M.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,L.a.put("http://localhost:4000/api/comments/update",{comment:e,idComment:t,idItinerary:n,token:a},{headers:{Authorization:"Bearer ".concat(a)}});case 3:i=s.sent,c({type:"COMMENT",payload:i.data.respuesta}),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),A.a.fire({position:"top",icon:"error",title:"Oops something went wrong, try again later!",showConfirmButton:!1,timer:1500});case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e,t){return s.apply(this,arguments)}}()},deleteComment:function(e,t,n){return function(){var a=Object(D.a)(M.a.mark((function a(s,c){var r;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.put("http://localhost:4000/api/comments",{idComment:e,idItinerary:t,token:n},{headers:{Authorization:"Bearer "+n}});case 3:r=a.sent,s({type:"COMMENT",payload:r.data.respuesta}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),A.a.fire({position:"top",icon:"error",title:"Oops something went wrong, try again later!",showConfirmButton:!1,timer:1500});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}()},saveCommentDB:function(e,t,n){return function(){var a=Object(D.a)(M.a.mark((function a(s){var c;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.post("http://localhost:4000/api/comments/itinerary/".concat(t),e,{headers:{Authorization:"Bearer "+n}});case 3:c=a.sent,s({type:"FETCH_ITINERARIES",payload:c.data.respuesta}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},J={deleteCommentAction:q.deleteComment,updateCommentAction:q.updateComment},K=Object(g.b)(null,J)((function(e){var t=e.comment,n=e.idItinerary,s=e.userLogged,c=e.updateCommentAction,r=e.deleteCommentAction,i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(a.useState)(""),h=Object(o.a)(j,2),p=h[0],b=h[1],f=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==p){e.next=3;break}return A.a.fire({position:"top",icon:"warning",title:"You can't send an empty comment",showConfirmButton:!1,timer:1500}),e.abrupt("return",!1);case 3:A.a.fire({title:"Are you sure you want to save the changes?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Save changes!"}).then((function(e){e.isConfirmed&&(c(p,t._id,n,s.token),d(!u),A.a.fire("Changes have been saved!","","success"))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"comment-content",children:[Object(m.jsx)("div",{className:"comment",children:Object(m.jsx)("div",{className:"picture-user",style:{backgroundImage:"url(".concat(t.userPicture,")")}})}),u?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"input-field-comment update-cmt",children:[Object(m.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},value:p}),Object(m.jsx)("i",{className:"fas fa-paper-plane icon-up",onClick:f})]}),Object(m.jsx)("div",{className:"contenedor-icon",children:Object(m.jsx)("i",{className:"fas fa-times-circle red icon-up",onClick:function(){return d(!u)}})})]}):Object(m.jsxs)("div",{className:"text-comment",children:[Object(m.jsx)("h5",{children:t.firstName}),Object(m.jsx)("p",{children:t.comment}),s&&s.firstName===t.firstName&&Object(m.jsxs)("div",{className:"contenedor-icon-update",children:[Object(m.jsx)("i",{className:"fas fa-edit one icon-up",onClick:function(){d(!u),b(t.comment)}}),Object(m.jsx)("i",{className:"fas fa-trash-alt icon-up",onClick:function(){A.a.fire({title:"Are you sure you want to delete this comment?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!"}).then((function(e){e.isConfirmed&&(r(t._id,n,s.token),A.a.fire("Your comment was deleted!","","success"))}))}})]})]})]})})),V=function(e){var t=e.texto;return Object(m.jsx)("div",{className:"contenedor-vacio",children:Object(m.jsx)("h4",{children:t})})},Q={addComment:q.addComment},X=Object(g.b)(null,Q)((function(e){var t=e.userLogged,n=e.itinerary,s=e.addComment,c=e.idCity,r=Object(a.useState)(""),i=Object(o.a)(r,2),l=i[0],u=i[1],d=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l){e.next=3;break}return A.a.fire({position:"top",icon:"warning",title:"You can't send an empty comment",showConfirmButton:!1,timer:2e3}),e.abrupt("return",!1);case 3:return e.next=5,s(l,t.token,n._id);case 5:u("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{className:"comentarios-title",children:"Comments"}),Object(m.jsxs)("div",{className:"comments-container",children:[Object(m.jsx)("div",{className:"comments-post",children:0===n.comments.length?Object(m.jsx)(V,{texto:"No comments yet"}):n.comments.map((function(e,a){return Object(m.jsx)(K,{comment:e,userLogged:t,idItinerary:n._id,idCity:c},a)}))}),Object(m.jsxs)("div",{className:"input-field-comment",children:[Object(m.jsx)("input",{type:"text",placeholder:t?"Write a comment...":"You need to be logged to comment!",value:l,disabled:!t&&!0,onChange:function(e){return u(e.target.value)}}),Object(m.jsx)("i",{className:"fas fa-paper-plane enter",id:n._id,onClick:t?d:function(){A.a.fire({position:"top",icon:"warning",title:"You must be logged to send a comment",showConfirmButton:!1,timer:1500})}})]})]})]})})),Z=function(e){var t=e.activity;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"activities-container",children:[Object(m.jsx)("h2",{children:"Activities"}),Object(m.jsx)("div",{className:"activities-content",children:t.map((function(e,t){return Object(m.jsx)("div",{className:"activity-bgImage",style:{backgroundImage:"url('/assets/".concat(e.image,"')")},children:Object(m.jsx)("h3",{children:e.title})},t)}))})]})})},$={loadActivities:q.loadActivities,like:q.like,dislike:q.dislike,loadItineraries:q.loadItineraries},ee=Object(g.b)((function(e){return{userLogged:e.authReducer.userLogged}}),$)((function(e){var t=e.itinerary,n=e.loadActivities,s=e.userLogged,c=e.idCity,r=e.like,i=e.dislike,l=Object(a.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],h=Object(a.useState)("View More"),p=Object(o.a)(h,2),f=p[0],O=p[1],x=Object(a.useState)([]),g=Object(o.a)(x,2),v=g[0],N=g[1],y=Object(a.useState)(""),k=Object(o.a)(y,2),C=k[0],w=k[1];Object(a.useEffect)((function(){s&&w(s.idUser)}),[]);var S=function(){var e=Object(D.a)(M.a.mark((function e(){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!d),d){e.next=8;break}return O("View Less"),e.next=5,n(t._id);case 5:return a=e.sent,N(a),e.abrupt("return",!1);case 8:O("View More");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"container-itinerary",children:[Object(m.jsx)("h2",{children:t.title}),Object(m.jsxs)("div",{className:"author",children:[Object(m.jsx)("div",{className:"img-itinerary",style:{backgroundImage:"url('/assets/".concat(t.authorPicture,"')")}}),Object(m.jsx)("h3",{children:t.authorName})]}),Object(m.jsxs)("div",{className:"itinerary-details",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{children:"Price:"}),new Array(t.price).fill(0).map((function(e,t){return Object(m.jsx)("i",{className:"money-icon far fa-money-bill-alt"},t)}))]}),Object(m.jsxs)("p",{className:"likes",children:[t.usersLiked.includes(C)?Object(m.jsx)("i",{className:"fas fa-heart heart-icon",onClick:s&&function(){i(t._id,s.token)}}):Object(m.jsx)("i",{className:"far fa-heart heart-icon",onClick:s?function(){r(t._id,s.token)}:function(){return A.a.fire({position:"top",icon:"warning",title:"You have to be logged to like it",showConfirmButton:!1,timer:1500})}}),t.usersLiked.length]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{children:"Duration:"})," ",t.duration," hours"]})]}),Object(m.jsx)("div",{className:"hashtags",children:t.hashtags.map((function(e,t){return Object(m.jsx)("p",{children:e},t)}))}),Object(m.jsx)(z.a,{isOpen:d,children:Object(m.jsxs)("div",{className:"contenedor-section-hidden",children:[Object(m.jsx)(Z,{activity:v}),Object(m.jsx)(X,{idCity:c,userLogged:s,itinerary:t})]})}),Object(m.jsx)(b.a,{color:"primary",onClick:S,style:{marginBottom:"1rem"},children:f})]})})})),te=function(e){Object(k.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={cityDetails:null},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){if(0===this.props.cities.length&&this.props.history.push("/cities"),!this.state.cityDetails){var e=this.props.match.params.id,t=this.props.history,n=this.props.cities.filter((function(t){return t._id===e}));this.setState({cityDetails:n}),this.props.loadItineraries(e,t)}}},{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:null===this.state.cityDetails?Object(m.jsx)(S,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"itineraries-hero d-flex flex-centrado",style:{backgroundImage:"url('/assets/".concat(this.state.cityDetails[0].src,"')")},children:Object(m.jsx)("div",{className:"content-hero-itineraries",children:Object(m.jsxs)("h1",{className:"text-center",children:["Welcome to ",this.state.cityDetails[0].city," "]})})}),Object(m.jsx)("div",{children:0===this.props.itineraries.length?Object(m.jsx)("div",{className:"itineraries-hero d-flex flex-centrado",children:Object(m.jsxs)("div",{className:"content-itinerary",children:[Object(m.jsxs)("h1",{className:"text-center",children:["We don't have itineraries for ",this.state.cityDetails[0].city," "]}),Object(m.jsx)("p",{className:"text-itinerary",children:"o back to see more cities!"})]})}):this.props.itineraries?this.props.itineraries.map((function(t){return Object(m.jsx)(ee,{history:e.props.history,idCity:e.props.match.params.id,itinerary:t},t._id)})):null}),Object(m.jsxs)("div",{className:"d-flex flex-centrado",children:[Object(m.jsx)(f.c,{exact:!0,to:"/",children:Object(m.jsxs)("button",{className:"btn-go-back",children:[Object(m.jsx)("i",{className:"fas fa-arrow-left"}),"Home"]})}),Object(m.jsx)(f.c,{to:"/cities",children:Object(m.jsxs)("button",{className:"btn-go-back",children:[Object(m.jsx)("i",{className:"fas fa-arrow-left"}),"Cities"]})})]})]})})}}]),n}(s.a.Component),ne={loadItineraries:q.loadItineraries},ae=Object(g.b)((function(e){return{cities:e.citiesReducer.allCities,itineraries:e.itinerariesReducer.intinerariesCity}}),ne)(te),se=function(){var e=Object(P.h)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},ce=n(24),re=n(21),ie=(n(53),n(31)),oe=n.n(ie),le={createNewUser:H.createNewUser},ue=Object(g.b)((function(e){return{infoStatusUser:e.authReducer.userLogged}}),le)((function(e){var t=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",userPicture:"",country:""}),n=Object(o.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),l=Object(o.a)(r,2),u=l[0],d=l[1],j=Object(a.useState)({success:!1,mensaje:""}),h=Object(o.a)(j,2),p=h[0],b=h[1],O=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",userPicture:""}),x=Object(o.a)(O,2),g=x[0],v=x[1];Object(a.useEffect)((function(){L.a.get("https://restcountries.eu/rest/v2/all").then((function(e){return d(e.data)}))}),[]);var N=function(e){var t=e.target.name,n=e.target.value;c(Object(i.a)(Object(i.a)({},s),{},Object(ce.a)({},t,n)))},y=function(){var t=Object(D.a)(M.a.mark((function t(){var n,a,c,r,o=arguments;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]?o[0]:null,a=o.length>1&&void 0!==o[1]?o[1]:null,n&&n.preventDefault(),c=n?s:a,a){t.next=8;break}if(!Object.values(c).some((function(e){return""===e}))){t.next=8;break}return b({success:!0,mensaje:"All fields are required"}),t.abrupt("return",!1);case 8:return b(Object(i.a)(Object(i.a)({},p),{},{success:!1})),t.next=11,e.createNewUser(Object(i.a)(Object(i.a)({},c),{},{firstName:c.firstName.trim(),lastName:c.lastName.trim()}));case 11:if(!(r=t.sent)){t.next=17;break}if(!r.googleUser){t.next=15;break}return t.abrupt("return",re.b.error(r.respuesta));case 15:v({firstName:"",lastName:"",email:"",password:"",userPicture:""}),r.success||r.details.map((function(e){return v((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(ce.a)({},e.context.label,e.message))}))}));case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(e){var t=e.profileObj,n=t.givenName,a=t.email,s=t.googleId,c=t.imageUrl,r=t.familyName;y(null,{firstName:n,lastName:r,email:a,password:"a"+s,userPicture:c,country:"Argentina"})};return Object(m.jsxs)("div",{className:"container-all",children:[Object(m.jsx)("div",{className:"call-to-action-form",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("h3",{children:"One of us?"}),Object(m.jsx)("p",{children:"You have an account? please, go to Sign In"}),Object(m.jsx)(f.b,{to:"/signin",children:Object(m.jsx)("button",{className:"btn-redirect",id:"sign-up-btn",children:"Sign In"})})]})}),Object(m.jsx)("div",{className:"container-form",children:Object(m.jsxs)("form",{action:"#",className:"sign-in-form",children:[Object(m.jsx)("h2",{className:"title",children:"Sign Up"}),p.success?Object(m.jsx)("div",{className:"mensaje-error",children:p.mensaje}):null,Object(m.jsxs)("div",{className:"input-field",children:[Object(m.jsx)("i",{className:"fas fa-user"}),Object(m.jsx)("input",{type:"text",name:"firstName",value:s.firstName,placeholder:"Your First Name",onChange:N})]}),""!==g.firstName?Object(m.jsx)("div",{className:"mensaje-error-signup",children:g.firstName}):null,Object(m.jsxs)("div",{className:"input-field",children:[Object(m.jsx)("i",{className:"fas fa-user"}),Object(m.jsx)("input",{type:"text",name:"lastName",value:s.lastName,placeholder:"Your Last Name",onChange:N})]}),""!==g.lastName?Object(m.jsx)("div",{className:"mensaje-error-signup",children:g.lastName}):null,Object(m.jsxs)("div",{className:"input-field",children:[Object(m.jsx)("i",{className:"fas fa-envelope"}),Object(m.jsx)("input",{type:"email",name:"email",value:s.email,placeholder:"Your Email",onChange:N})]}),""!==g.email?Object(m.jsx)("div",{className:"mensaje-error-signup",children:g.email}):null,Object(m.jsxs)("div",{className:"input-field",children:[Object(m.jsx)("i",{className:"fas fa-lock"}),Object(m.jsx)("input",{type:"password",name:"password",value:s.password,placeholder:"Your Password",onChange:N})]}),""!==g.password?Object(m.jsx)("div",{className:"mensaje-error-signup",children:g.password}):null,Object(m.jsxs)("div",{className:"input-field",children:[Object(m.jsx)("i",{className:"fas fa-image"}),Object(m.jsx)("input",{type:"text",name:"userPicture",value:s.userPicture,placeholder:"URL of Your Picture",onChange:N})]}),""!==g.userPicture?Object(m.jsx)("div",{className:"mensaje-error-signup",children:g.userPicture}):null,Object(m.jsxs)("div",{className:"input-field",children:[Object(m.jsx)("i",{className:"fas fa-globe-americas"}),Object(m.jsxs)("select",{name:"country",onChange:N,value:s.country,children:[Object(m.jsx)("option",{value:"",children:"Choose Your Country"}),0===u.length?Object(m.jsx)("option",{children:"not country"}):u.map((function(e,t){return Object(m.jsx)("option",{value:e.name,children:e.name},t)}))]})]}),Object(m.jsx)("button",{className:"btn-form solid",onClick:y,children:"Sign Up"}),Object(m.jsx)(re.a,{}),Object(m.jsx)("p",{className:"social-text",children:"Or"}),Object(m.jsx)(oe.a,{className:"btn-google",clientId:"112919868081-jrnbtckjpmehq2v64aj4rrccs2mosics.apps.googleusercontent.com",buttonText:"Sign Up with Google",onSuccess:k,onFailure:k,cookiePolicy:"single_host_origin"})]})})]})})),de={iniciarSesion:H.iniciarSesion},je=Object(g.b)(null,de)((function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(o.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)({success:!1,mensaje:""}),l=Object(o.a)(r,2),u=l[0],d=l[1],j=function(e){e.preventDefault();var t=e.target.name,n=e.target.value;c(Object(i.a)(Object(i.a)({},s),{},Object(ce.a)({},t,n)))},h=function(){var t=Object(D.a)(M.a.mark((function t(){var n,a,c,r,i=arguments;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:null,a=i.length>1&&void 0!==i[1]?i[1]:null,n&&n.preventDefault(),c=n?s:a,a){t.next=8;break}if(""!==c.email&&""!==c.password){t.next=8;break}return d({success:!0,mensaje:"All fields are required"}),t.abrupt("return");case 8:return d(!1),t.next=11,e.iniciarSesion(c);case 11:(r=t.sent)&&(r.success?re.b.success("welcome"):d({success:!0,mensaje:r.error}));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(e){var t=e.profileObj,n=t.email,a=t.googleId;h(null,{email:n,password:"a"+a})};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"container-all",children:[Object(m.jsx)("div",{className:"container-form",children:Object(m.jsxs)("form",{action:"#",className:"sign-in-form",children:[Object(m.jsx)("h2",{className:"title",children:"Sign in"}),u.success?Object(m.jsx)("h3",{className:"mensaje-error",children:u.mensaje}):null,Object(m.jsxs)("div",{className:"input-field",children:[Object(m.jsx)("i",{className:"fas fa-user"}),Object(m.jsx)("input",{type:"email",name:"email",placeholder:"Your Email",value:s.email,onChange:j})]}),Object(m.jsxs)("div",{className:"input-field",children:[Object(m.jsx)("i",{className:"fas fa-lock"}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:j})]}),Object(m.jsx)("button",{className:"btn-form solid",onClick:h,children:"Sign In"}),Object(m.jsx)(re.a,{}),Object(m.jsx)("p",{className:"social-text",children:"Or"}),Object(m.jsx)(oe.a,{className:"btn-google",clientId:"112919868081-jrnbtckjpmehq2v64aj4rrccs2mosics.apps.googleusercontent.com",buttonText:"Sign In with Google",onSuccess:p,onFailure:p,cookiePolicy:"single_host_origin"})]})}),Object(m.jsx)("div",{className:"call-to-action-form",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("h3",{children:"New here?"}),Object(m.jsx)("p",{children:"Don't have an account? please, go to Sign Up"}),Object(m.jsx)(f.b,{to:"/signup",children:Object(m.jsx)("button",{className:"btn-redirect",id:"sign-up-btn",children:"Sign Up"})})]})})]})})})),me={iniciarSesionLS:H.iniciarSesionLS},he=Object(g.b)((function(e){return{userLogged:e.authReducer.userLogged}}),me)((function(e){if(!e.userLogged&&localStorage.getItem("token")){var t=JSON.parse(localStorage.getItem("userLogged")),n=Object(i.a)({token:localStorage.getItem("token")},t);e.iniciarSesionLS(n)}var a="logo.png";return e.userLogged&&re.b.success("Welcome ".concat(e.userLogged.firstName)),Object(m.jsxs)(f.a,{children:[Object(m.jsx)(se,{}),Object(m.jsx)(W,{logo:a}),Object(m.jsx)(re.a,{}),Object(m.jsxs)(P.d,{children:[Object(m.jsx)(P.b,{exact:!0,path:"/",component:v}),Object(m.jsx)(P.b,{exact:!0,path:"/cities",component:_}),Object(m.jsx)(P.b,{path:"/city/:id",component:ae}),!e.userLogged&&Object(m.jsx)(P.b,{path:"/signup",component:ue}),!e.userLogged&&Object(m.jsx)(P.b,{path:"/signin",component:je}),Object(m.jsx)(P.b,{path:"/error",component:U}),Object(m.jsx)(P.a,{to:"/"})]}),Object(m.jsx)(Y,{logo:a})]})})),pe=(n(94),n(25)),be={allCities:[],newCitiesCurrent:[],loading:!0},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CITIES":return{allCities:t.payload,newCitiesCurrent:t.payload,loading:!1};case"SEARCH_CITIES":var n,a=t.payload.trim().toLowerCase();return n=""===a?e.allCities:e.allCities.filter((function(e){return 0===e.city.toLowerCase().trim().indexOf(a)})),Object(i.a)(Object(i.a)({},e),{},{newCitiesCurrent:n});default:return e}},Oe={intinerariesCity:[]},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITINERARIES":return Object(i.a)(Object(i.a)({},e),{},{intinerariesCity:t.payload});case"LIKE_ITINERARY":case"COMMENT":return Object(i.a)(Object(i.a)({},e),{},{intinerariesCity:e.intinerariesCity.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},ge={userLogged:null},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOG":return t.payload&&(localStorage.setItem("userLogged",JSON.stringify({firstName:t.payload.firstName,idUser:t.payload.idUser,userPicture:t.payload.userPicture})),localStorage.setItem("token",t.payload.token)),Object(i.a)(Object(i.a)({},e),{},{userLogged:t.payload});case"LOGOUT_USER":return localStorage.clear(),Object(i.a)(Object(i.a)({},e),{},{userLogged:null});default:return e}},Ne=Object(pe.c)({citiesReducer:fe,itinerariesReducer:xe,authReducer:ve}),ye=n(56),ke=Object(pe.d)(Ne,Object(pe.a)(ye.a));r.a.render(Object(m.jsx)(g.a,{store:ke,children:Object(m.jsx)(he,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.d2046353.chunk.js.map